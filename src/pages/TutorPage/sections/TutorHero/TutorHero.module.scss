@use '../../../../shared/styles/variables' as *;
@use '../../../../shared/styles/mixins' as m;

.hero {
  /* Fill the whole viewport so next sections are not visible */
  min-height: 100svh;
  display: flex;
  align-items: center;

  /* Prevent any horizontal overflow (fixes the bottom horizontal scroll bar) */
  overflow-x: clip;

  /* Compensate the page/header top offset so the hero is truly centered */
  margin-top: -88px;

  /* symmetric breathing space so vertical centering stays true */
  padding: 24px 0;
}

.inner {
  display: grid;
  grid-template-columns: 1.35fr 0.85fr;
  align-items: center;
  gap: 48px;
}

.left {
  max-width: 760px;
}

.name {
  margin: 0;
  font-size: clamp(44px, 5.2vw, 86px);
  line-height: 0.98;
  letter-spacing: -0.03em;
  font-weight: 700;
  color: $text;
  white-space: nowrap;
  word-break: normal;
  overflow-wrap: normal;
}

.surname {
  color: $text;
  opacity: 0.92;
}

.tagline {
  margin: 18px 0 0;
  max-width: 100%;
  width: 100%;

  font-size: clamp(16px, 1.35vw, 20px);
  line-height: 1.5;
  color: $text-muted;
}

.actions {
  margin-top: 28px;
  display: flex;
  align-items: center;
  gap: 14px;
  flex-wrap: wrap;
}

.primaryLink,
.secondaryLink {
  display: inline-flex;
  align-items: center;
  justify-content: center;

  height: 46px;
  padding: 0 18px;
  border-radius: 999px;
  text-decoration: none;

  font-size: 15px;
  font-weight: 600;
  line-height: 1;

  transition:
    transform $dur-3 $ease-out,
    background $dur-3 $ease-out,
    border-color $dur-3 $ease-out,
    box-shadow $dur-3 $ease-out,
    color $dur-3 $ease-out;
}

.primaryLink {
  background: var(--accent);
  color: #fff;
  box-shadow: 0 16px 44px var(--accent-glow);
}

.primaryLink:hover {
  transform: translateY(-1px);
  box-shadow: 0 22px 60px var(--accent-glow);
}

.primaryLink:active {
  transform: translateY(0);
}

.primaryLink:focus-visible {
  outline: none;
  box-shadow:
    0 0 0 3px var(--accent-soft),
    0 22px 60px var(--accent-glow);
}

.secondaryLink {
  background: rgba(255, 255, 255, 0.04);
  color: $text;
  border: 1px solid $border;
}

.secondaryLink:hover {
  background: rgba(255, 255, 255, 0.07);
  transform: translateY(-1px);
}

.secondaryLink:active {
  transform: translateY(0);
}

.secondaryLink:focus-visible {
  outline: none;
  box-shadow: 0 0 0 3px var(--accent-soft);
}

.right {
  position: relative;
  display: flex;
  justify-content: flex-end;
  align-items: center;
  padding-top: 0;
  overflow: visible;
}

/* Wrapper for the cutout silhouette */
.photoWrap {
  position: relative;
  width: min(980px, 70vw);
  display: flex;
  align-items: flex-end;
  justify-content: center;

  /* IMPORTANT: no frame/card — photo sits directly on the main background */
  background: transparent;
  border: none;
  box-shadow: none;
  border-radius: 0;
  overflow: visible;

  /* keep the same visual placement, but avoid over-shifting to the right */
  transform: translate(-64px, -92px) translateZ(0);
  transform-origin: center;
  will-change: transform;
  isolation: isolate;
  backface-visibility: hidden;
}

/* Soft glow layer (desktop) to avoid any "square" artifacts */
.photoWrap::before {
  content: '';
  position: absolute;
  left: 50%;
  top: 48%;
  width: 118%;
  height: 118%;
  transform: translate(-50%, -50%);
  border-radius: 999px;
  background: radial-gradient(circle at 50% 50%, var(--accent-bg-glow), transparent 62%);
  filter: blur(28px);
  opacity: 0.55;
  pointer-events: none;
  z-index: 0;
}

/* Ensure the photo never shifts on hover */
.photoWrap:hover {
  transform: translate(-64px, -92px) translateZ(0);
}

.photoWrap:hover::before {
  opacity: 0.7;
  filter: blur(32px);
}

.photo {
  position: relative;
  z-index: 1;
  width: min(940px, 66vw);
  height: auto;
  display: block;

  /* Smoothly fade the bottom edge so it doesn't look "cut" */
  -webkit-mask-image: linear-gradient(
    to bottom,
    rgba(0, 0, 0, 1) 0%,
    rgba(0, 0, 0, 1) 72%,
    rgba(0, 0, 0, 0) 100%
  );
  mask-image: linear-gradient(
    to bottom,
    rgba(0, 0, 0, 1) 0%,
    rgba(0, 0, 0, 1) 72%,
    rgba(0, 0, 0, 0) 100%
  );
  -webkit-mask-repeat: no-repeat;
  mask-repeat: no-repeat;
  -webkit-mask-size: 100% 100%;
  mask-size: 100% 100%;

  transition: filter $dur-3 $ease-out;
  will-change: filter;
  transform: translateZ(0);
  backface-visibility: hidden;

  /* Glow around the cutout silhouette */
  filter:
    drop-shadow(0 0 10px rgba(255, 255, 255, 0.08))
    drop-shadow(0 0 34px var(--accent-bg-glow))
    drop-shadow(0 0 70px var(--accent-glow));
}

.photoWrap:hover .photo {
  filter:
    drop-shadow(0 0 14px rgba(255, 255, 255, 0.16))
    drop-shadow(0 0 62px var(--accent-bg-glow))
    drop-shadow(0 0 140px var(--accent-glow));
}

/* Responsive */
@media (max-width: 980px) {
  .hero {
    min-height: 100svh;
    margin-top: -78px;
    padding: 20px 0;
  }

  .inner {
    grid-template-columns: 1fr;
    grid-template-areas:
      'photo'
      'text';
    gap: 22px;
  }

  .right {
    grid-area: photo;
    justify-content: center;
    padding-top: 0;
  }

  .left {
    grid-area: text;
    max-width: 720px;
    margin: 0 auto;
    text-align: left;
  }

  .actions {
    justify-content: flex-start;
  }

  .photoWrap {
    width: 100%;
    justify-content: center;
    transform: translate(0, -34px);
  }

  .photo {
    margin: 0 auto;
  }
}

@media (max-width: 520px) {
  .hero {
    min-height: 100svh;
    /* lift the whole hero content a bit on mobile (without changing inner gap) */
    margin-top: -103px;
    padding: 6px 0;
    /* push the first section card below the fold on mobile */
    margin-bottom: 100px;
  }

  .right {
    justify-content: center;
  }

  .inner {
    gap: 14px;
  }

  .left {
    /* Grid column is sized by the 160vw photo — pin text to viewport width
       and align to the column's start so margin:auto doesn't push it right */
    width: calc(100vw - 2 * #{$container-pad-x});
    margin-left: 0;
  }

  .name {
    font-size: clamp(40px, 11vw, 56px);
    white-space: normal;
  }

  .tagline {
    margin-top: 14px;
    font-size: 16px;
  }

  .actions {
    margin-top: 22px;
    gap: 12px;
  }

  .primaryLink,
  .secondaryLink {
    height: 44px;
    padding: 0 16px;
  }

  .photoWrap {
    width: 100%;
    justify-content: center;
    /* move photo up a bit on mobile */
    transform: translate(0, -24px) translateZ(0);
  }

  .photoWrap:hover {
    transform: translate(0, -24px) translateZ(0);
  }

  /* Mobile glow: box-shadow on a 1px point avoids the rectangular blur
     artifact that filter:blur() on a pseudo-element creates on iOS/Safari */
  .photoWrap::before {
    content: '';
    position: absolute;
    left: 50%;
    top: 46%;
    width: 1px;
    height: 1px;
    transform: translate(-50%, -50%);
    border-radius: 50%;
    background: transparent;
    box-shadow: 0 0 min(220px, 44vw) min(160px, 32vw) var(--accent-bg-glow);
    opacity: 0.85;
    pointer-events: none;
    z-index: 0;
  }

  .photo {
    -webkit-mask-size: 100% 100%;
    mask-size: 100% 100%;
    width: 160vw;
    max-width: none;
    margin: 0;
    position: relative;
    left: 50%;
    transform: translateX(-58%) translateZ(0);
    display: block;
    /* drop-shadow on a masked element causes bounding-box rectangles on iOS —
       ambient glow comes from .photoWrap::before box-shadow instead */
    filter: none;
  }
}

@media (prefers-reduced-motion: reduce) {
  .photo {
    transition: none;
  }
}

/* Touch devices: no hover/tap effects and no movement */
@media (hover: none) and (pointer: coarse) {
  .photoWrap {
    transform: translate(0, -24px) translateZ(0);
  }


  .photoWrap:hover {
    transform: translate(0, -24px) translateZ(0);
  }

  .photoWrap:hover::before {
    opacity: 0.72;
    filter: blur(26px);
  }

  .photoWrap:hover .photo {
    /* keep the same as base (no stronger glow on touch) */
    filter:
      drop-shadow(0 0 10px rgba(255, 255, 255, 0.10))
      drop-shadow(0 0 28px var(--accent-bg-glow))
      drop-shadow(0 0 58px var(--accent-glow));
  }

  .photo {
    transition: none;
    /* On touch devices wider than 520px the photo needs an explicit offset so
       the silhouette (which sits in the right part of the wide image) stays
       centred on-screen. On < 520px this is overridden by the 520px block. */
    transform: translateX(-73%) translateZ(0);
  }
}
